<!-- pages/ai/history/index.wxml -->
<view class="container">
  <view class="header">
    <view class="back-button" bindtap="onBack">
      <text class="back-icon">â†</text>
    </view>
    <text class="header-title">å¯¹è¯å†å²</text>
    <view class="new-chat-button" bindtap="onNewChat">
      <text class="new-chat-icon">+</text>
    </view>
  </view>

  <scroll-view class="conversation-list" scroll-y>
    <block wx:for="{{conversations}}" wx:key="id">
      <view class="conversation-item" data-conversation="{{item}}" bindtap="onConversationTap">
        <view class="conversation-content">
          <text class="conversation-title">{{item.title}}</text>
          <text class="conversation-preview">{{item.preview}}</text>
          <text class="conversation-time">{{formatTime(item.timestamp)}}</text>
        </view>
        <view class="delete-button" data-id="{{item.id}}" bindtap="onDeleteConversation">
          <text class="delete-icon">Ã—</text>
        </view>
      </view>
    </block>
    
    <view wx:if="{{conversations.length === 0}}" class="empty-state">
      <text class="empty-icon">ğŸ’¬</text>
      <text class="empty-text">è¿˜æ²¡æœ‰å¯¹è¯è®°å½•</text>
      <text class="empty-subtext">å¼€å§‹å’ŒæŸ”æŸ”ç†ŠèŠå¤©å§</text>
    </view>
  </scroll-view>
</view>